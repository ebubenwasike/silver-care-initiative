/* ===========================
   SilverCare Staff Dashboard
   Clean + Aligned CSS
   =========================== */

:root {
  --bg: #f7fafc;
  --card-bg: #ffffff;
  --accent: #0b5ed7;
  --accent-2: #0dcaf0;
  --radius: 14px;
  --success: #16a34a;
  --warning: #f59e0b;
  --danger:  #dc2626;
  --text: #0f172a;
  --muted: #6b7280;
}

body { background: var(--bg); font-family: "Arial", sans-serif; color: var(--text); }

/* Layout */
.page-shell { display: flex; min-height: calc(100vh - 80px); }

/* Main offset reacts to sidebar width (desktop) */
main.flex-grow-1 { transition: margin-left 240ms ease; }
@media (min-width: 992px) {
  .sidebar.compact ~ main.flex-grow-1 { margin-left: 72px; }
  .sidebar.expanded ~ main.flex-grow-1 { margin-left: 240px; }
}

/* Banner & Cards */
.welcome-banner {
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  color: #fff;
  border-radius: var(--radius);
  padding: 2rem;
  margin: 1rem auto 1.25rem;
}
.section-card {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 1.25rem;
  margin-bottom: 1rem;
  box-shadow: 0 4px 10px rgba(0,0,0,.08);
}

/* Tables */
.table thead { background: #e9f2ff; }
tbody tr { transition: background .15s ease; }
tbody tr:hover { background: #f8fafc; }

/* Chips & Status */
.chip { display:inline-flex; align-items:center; gap:.35rem; padding:.25rem .6rem; border-radius:999px; font-size:.85rem; }
.chip.green { background:#dcfce7; color:#166534; }
.chip.amber { background:#fef9c3; color:#854d0e; }
.chip.red   { background:#fee2e2; color:#991b1b; }
.status-dot { width:.6rem; height:.6rem; border-radius:999px; display:inline-block; }
.status-green { background: var(--success); }
.status-amber { background: var(--warning); }
.status-red   { background: var(--danger); }

/* Forms / Inputs */
.form-label { font-size: 1.05rem; }
.form-control, .form-select { padding: 12px 14px; border-radius: 12px; }
.form-control:focus, .form-select:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 0.2rem rgba(11,94,215,.15);
}

/* Buttons & Toasts */
.btn-large { padding: 12px 18px; font-size: 1.05rem; border-radius: 12px; }
.toast-container { position: fixed; right: 1rem; bottom: 1rem; z-index: 2000; }

/* Messages */
.msg { background:#f1f5f9; border-radius:12px; padding:.75rem 1rem; margin:.5rem 0; }
.msg.me { background:#e0f2fe; }

/* Right rail */
.sticky-tools { position: sticky; top: 80px; }

/* Keyboard helper */
kbd { background:#111827; color:#fff; padding:.15rem .4rem; border-radius:.25rem; font-size:.8rem; }

/* =================
   Sidebar (single)
   ================= */
.sidebar {
  width: 240px;
  background: #1f2a37;
  color: #e9eef6;
  border-right: 1px solid rgba(255,255,255,0.04);
  display: flex; flex-direction: column;
  transition: width 240ms ease, transform 240ms ease;
  position: sticky; top: 80px; z-index: 1040;
  min-height: calc(100vh - 80px);
}
.sidebar.expanded { width: 240px; }
.sidebar.compact  { width: 72px; }

.sidebar-top { border-bottom: 1px solid rgba(255,255,255,0.06); }
.sidebar-logo { height: 40px; width: 40px; object-fit: cover; border-radius: 6px; background: #fff; }
.sidebar-brand .small { color: #b8c2d0; }

/* Nav links */
.sidebar-nav { padding: 8px 6px 14px; }
.sidebar-nav .nav-link {
  color: #cfe6ff; background: transparent;
  font-size: 1.05rem; font-weight: 500;
  border-radius: 10px; padding: 0.8rem 1rem;
  margin: 6px 6px; display: flex; align-items: center; gap: 12px;
  transition: all 0.2s ease; outline: none;
}
.sidebar-nav .nav-link .sidebar-icon {
  width: 28px; text-align: center; font-size: 1.2rem; color: #bbdefb;
}
.sidebar-nav .nav-link .sidebar-text { flex: 1; white-space: nowrap; }
.sidebar-nav .nav-link:hover {
  background: linear-gradient(90deg, rgba(11,94,215,0.12), rgba(11,94,215,0.06));
  color: #ffffff;
}
.sidebar-nav .nav-link.active {
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  color: #ffffff;
  box-shadow: 0 3px 8px rgba(11, 94, 215, 0.35);
}
.sidebar-nav .nav-link.active .sidebar-icon { color: #ffffff; }

.sidebar-footer {
  border-top: 1px solid rgba(255,255,255,0.06);
  padding: 1rem;
  font-size: 0.9rem;
  color: #b8c2d0;
}

/* Compact state (desktop) */
.sidebar.compact .sidebar-brand,
.sidebar.compact .sidebar-text,
.sidebar.compact .sidebar-footer .small { display: none !important; }
.sidebar.compact .sidebar-logo { margin: 8px auto; }
.sidebar.compact .nav-link { justify-content: center; padding-left: .5rem; padding-right: .5rem; }
.sidebar.compact .nav-link .sidebar-icon { width: auto; font-size: 1.25rem; }

/* Mobile drawer behavior */
/* Add to the existing CSS */
@media (max-width: 991.98px) {
  .sidebar {
    position: fixed;
    left: -320px;
    top: 80px; /* Changed from 56px to match navbar height */
    height: calc(100% - 80px);
    width: 260px;
    transform: translateX(0);
    z-index: 1045; /* Increased z-index */
  }
  .sidebar.open {
    left: 0;
    transform: translateX(0);
    box-shadow: 0 8px 30px rgba(0,0,0,0.3);
  }
  
  /* Add overlay for mobile */
  .sidebar.open::before {
    content: '';
    position: fixed;
    top: 80px;
    left: 260px;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.5);
    z-index: -1;
  }
}

/* Ensure main content doesn't shift on mobile */
@media (max-width: 991.98px) {
  .sidebar ~ main.flex-grow-1 {
    margin-left: 0 !important;
  }
}

/* Fix toast positioning */
.toast-container {
  position: fixed;
  right: 1rem;
  top: 6rem; /* Changed from bottom to avoid mobile keyboard issues */
  z-index: 2000;
}

/* Focus visibility for a11y */
.sidebar-nav .nav-link:focus-visible,
.btn:focus-visible,
.form-control:focus-visible,
.form-select:focus-visible {
  outline: 3px solid rgba(11,94,215,.5);
  outline-offset: 2px;
}
